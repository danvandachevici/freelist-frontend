<span ng-if=" ! list.ready" class="list-panel not-ready">
	<span class="fa fa-4x fa-spin fa-refresh"></span>
</span>
<span ng-if="list.ready" class="list-panel ready">
	<div class="title">{{list.name}}<button class="btn btn-lg btn-link pull-right" ng-click="removeList()"><span class="fa fa-times-circle"></span></button></div>

	<div class="body">
		<div class="item-input">

			<form class="form-inline" name="newItemForm" novalidate>
				<div class="form-group col-xs-2" ng-class='{"has-error": newItemForm.qty.$dirty && newItemForm.qty.$invalid}'>
					<input class="item-qty" type="number" placeholder="Qty" name="qty" ng-model="item.qty" required>
				</div>
				<div class="form-group unit-dropdown col-xs-2" tabindex="-1">
					<input class="item-unit" type="text" ng-model="item.unit" placeholder="Unit" name="unit" ng-focus="item.showDropdown = true" required>
					<div class="unit-dropdown-content" ng-show="item.showDropdown">
						<a href ng-repeat="unit in units" ng-click="setUnit(unit)">{{unit}}</a>
					</div>
				</div>
				<div class="form-group col-xs-6">
					<input type="text" placeholder="Add new item to this list" name="item_id" ng-model="item.item_id" required/>
				</div>
				<button class="btn btn-primary" type="submit" ng-click="addItem()" ng-disabled="!newItemForm.$valid" ><span class="fa fa-plus"></span></button>
			</form>
		</div>

		<div>
			<table class="table">
				<thead></thead>
				<tbody>
					<!-- <listitem ng-repeat="item in list.items" item="item"></listitem> -->
					<tr ng-repeat="item in list.items">
						<td>
							<input type="checkbox" />
						</td>
						<td>
							{{item.item_id}}
						</td>
						<td>
							{{item.qty}}
						</td>
						<td>
							{{item.unit}}
						</td>
						<td><button class="btn btn-sm btn-danger" ng-click="removeItemFromList(item)"><span class="fa fa-trash"></span></button></td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</span>